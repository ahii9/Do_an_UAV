import matplotlib.pyplot as plt

# Data
time_steps = range(1, 51)
communication_path_quality = [
    1.7614, 3.3957, 3.3957, 3.3154, 3.4070, 3.4070, 3.4322, 3.2731, 3.2731, 3.5198,
    3.5198, 2.6462, 3.3916, 3.3916, 3.4565, 3.4565, 3.4600, 3.4600, 2.6299, 3.4821,
    3.4821, 3.4971, 3.4971, 3.4349, 3.3127, 3.3127, 3.4523, 3.4523, 3.4368, 3.4368,
    3.3021, 3.3021, 3.3585, 3.3585, 3.5702, 3.5702, 3.6138, 3.6138, 2.6438, 2.6438,
    3.4550, 3.4550, 3.5028, 3.4766, 3.4766, 3.5252, 3.5252, 3.5522, 3.5522, 3.5398
]
uav1_path_quality = [
    0.9266, 0.9314, 0.9314, 0.9428, 0.8871, 0.8871, 0.9280, 0.9129, 0.9129, 0.9528,
    0.9528, 0.9286, 0.9399, 0.9399, 0.9268, 0.9268, 0.9190, 0.9190, 0.9349, 0.9213,
    0.9213, 0.9335, 0.9335, 0.9037, 0.9260, 0.9260, 0.9253, 0.9253, 0.9204, 0.9204,
    0.9369, 0.9369, 0.9248, 0.9248, 0.9344, 0.9344, 0.9207, 0.9207, 0.0000, 0.0000,
    0.8445, 0.8445, 0.8817, 0.7917, 0.7917, 0.8121, 0.8121, 0.8313, 0.8313, 0.8349
]
uav2_path_quality = [
    0.0000, 0.7817, 0.7817, 0.7269, 0.8678, 0.8678, 0.8470, 0.7590, 0.7590, 0.8576,
    0.8576, 0.8620, 0.8415, 0.8415, 0.8797, 0.8797, 0.8689, 0.8689, 0.8659, 0.8764,
    0.8764, 0.8484, 0.8484, 0.8358, 0.8442, 0.8442, 0.8405, 0.8405, 0.8586, 0.8586,
    0.8579, 0.8579, 0.8510, 0.8510, 0.8892, 0.8892, 0.8877, 0.8877, 0.8399, 0.8399,
    0.8575, 0.8575, 0.8337, 0.9118, 0.9118, 0.9273, 0.9273, 0.9252, 0.9252, 0.9117
]
uav3_path_quality = [
    0.8348, 0.8855, 0.8855, 0.8597, 0.8552, 0.8552, 0.8600, 0.8434, 0.8434, 0.8868,
    0.8868, 0.0000, 0.8407, 0.8407, 0.8636, 0.8636, 0.8657, 0.8657, 0.0000, 0.8377,
    0.8377, 0.8522, 0.8522, 0.8515, 0.7557, 0.7557, 0.8466, 0.8466, 0.8569, 0.8569,
    0.7208, 0.7208, 0.7816, 0.7816, 0.8433, 0.8433, 0.8786, 0.8786, 0.8710, 0.8710,
    0.8396, 0.8396, 0.8681, 0.8377, 0.8377, 0.8566, 0.8566, 0.8669, 0.8669, 0.8619
]
uav4_path_quality = [
    0.0000, 0.7971, 0.7971, 0.7860, 0.7969, 0.7969, 0.7972, 0.7578, 0.7578, 0.8226,
    0.8226, 0.8556, 0.7695, 0.7695, 0.7864, 0.7864, 0.8064, 0.8064, 0.8291, 0.8467,
    0.8467, 0.8630, 0.8630, 0.8439, 0.7868, 0.7868, 0.8399, 0.8399, 0.8009, 0.8009,
    0.7865, 0.7865, 0.8011, 0.8011, 0.9033, 0.9033, 0.9268, 0.9268, 0.9329, 0.9329,
    0.9134, 0.9134, 0.9193, 0.9354, 0.9354, 0.9292, 0.9292, 0.9288, 0.9288, 0.9313
]

# Hình 4.12: Total and Individual UAV Communication Path Quality
plt.figure(figsize=(12, 6))
plt.plot(time_steps, communication_path_quality, 'k--', label='Tổng chất lượng đường truyền', linewidth=1.5)
plt.plot(time_steps, uav1_path_quality, 'b-', label='UAV1', linewidth=1.0)
plt.plot(time_steps, uav2_path_quality, 'orange', label='UAV2', linewidth=1.0)
plt.plot(time_steps, uav3_path_quality, 'g-', label='UAV3', linewidth=1.0)
plt.plot(time_steps, uav4_path_quality, 'r-', label='UAV4', linewidth=1.0)
plt.xlabel('Tu (Đơn vị thời gian)')
plt.ylabel('Giá trị chất lượng đường truyền')
plt.grid(True)
plt.legend(loc='upper right', bbox_to_anchor=(1.05, 1.1),ncol=5)
plt.savefig('communication_path_quality_combined.png')
plt.close()